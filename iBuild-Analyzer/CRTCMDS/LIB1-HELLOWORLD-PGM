-include makefile_defs

&USER     = 'DMAGID_X'
&CURR_DIR = '/home/dmagid_x'
&HOME_DIR = '/home/'
CHGLIBL LIBL(DMDMOP1OBJ QGPL QTEMP)
HELLOWORLD.PGM :  \
    HW_SRVP.SRVPGM \
    HELLOWORLD.MODULE \
    HW_CPP.MODULE
ifdef LIB1-HELLOWORLD-PGM-PARMS
	$(eval @_PARMS = $(LIB1-HELLOWORLD-PGM-PARMS))
else
	$(eval @_PARMS = $(CRTPGMPARMS))
endif
	# TGTRLS(V7R4M0)
	system -v -k -K "CRTPGM $(@_PARMS) PGM($(LIB1)/HELLOWORLD) USRPRF(*USER) TEXT('The source for our Hello World program') MODULE(HELLOWORLD HW_CPP) ENTMOD(HELLOWORLD) BNDSRVPGM((HW_SRVP)) ACTGRP(*NEW) DETAIL(*BASIC) ALWUPD(*YES) ALWLIBUPD(*NO) ALWRINZ(*NO)"

HW_SRVP.SRVPGM :  \
    HW_RPG.MODULE \
    HW_CL.MODULE
ifdef LIB1-HW_SRVP-SRVPGM-PARMS
	$(eval @_PARMS = $(LIB1-HW_SRVP-SRVPGM-PARMS))
else
	$(eval @_PARMS = $(CRTSRVPGMPARMS))
endif
	# TGTRLS(V7R4M0)
	system -v -k "CRTSRVPGM $(@_PARMS) SRVPGM($(LIB1)/HW_SRVP) MODULE(HW_RPG HW_CL) EXPORT(*ALL) ACTGRP(*CALLER) ALWUPD(*YES) ALWLIBUPD(*NO) USRPRF(*USER) ALWRINZ(*NO) STGMDL(*SNGLVL) ARGOPT(*NO) DETAIL(*BASIC)"

HW_RPG.MODULE : QRPGLESRC.FILE/HW_RPG.MBR
	# DBGVIEW(*STMT)
	# TGTRLS(V7R4M0)
ifdef LIB1-HW_RPG-MODULE-PARMS
	$(eval @_PARMS = $(LIB1-HW_RPG-MODULE-PARMS))
else
	$(eval @_PARMS = $(CRTRPGMODPARMS))
endif
	system -v -k "CRTRPGMOD $(@_PARMS)  SRCFILE(QRPGLESRC) SRCMBR(HW_RPG) TEXT('Hello World RPG module') TGTCCSID(37) PRFDTA(*NOCOL) SRTSEQ(*HEX) LANGID(*JOBRUN) MODULE($(LIB1)/HW_RPG) STGMDL(*INHERIT)"

HW_CL.MODULE : QCLSRC.FILE/HW_CL.MBR
	# DBGVIEW(*STMT)
	# TGTRLS(V7R4M0)
	# OPTIMIZE(10)
ifdef LIB1-HW_CL-MODULE-PARMS
	$(eval @_PARMS = $(LIB1-HW_CL-MODULE-PARMS))
else
	$(eval @_PARMS = $(CRTCLMODPARMS))
endif
	system -v -k "CRTCLMOD $(@_PARMS)  SRCFILE(QCLSRC) SRCMBR(HW_CL) TEXT('Hello World from CL') ALWRTVSRC(*YES) SRTSEQ(*HEX) LANGID(*JOBRUN) MODULE($(LIB1)/HW_CL)"

HELLOWORLD.MODULE : QCSRC.FILE/HELLOWORLD.MBR
	# DBGVIEW(*NONE)
	# TGTRLS(V7R4M0)
	# OPTIMIZE(10)
ifdef LIB1-HELLOWORLD-MODULE-PARMS
	$(eval @_PARMS = $(LIB1-HELLOWORLD-MODULE-PARMS))
else
	$(eval @_PARMS = $(CRTCMODPARMS))
endif
	system -v -k "CRTCMOD $(@_PARMS)  SRCFILE(QCSRC) SRCMBR(HELLOWORLD) TEXT('The source for our Hello World program') OUTPUT(*PRINT) ENBPFRCOL(*PEP) PRFDTA(*NOCOL) STGMDL(*SNGLVL) TGTCCSID(37) MODULE($(LIB1)/HELLOWORLD)"

HW_CPP.MODULE : QCPPSRC.FILE/HW_CPP.MBR
	# DBGVIEW(*NONE)
	# TGTRLS(V7R4M0)
	# OPTIMIZE(10)
ifdef LIB1-HW_CPP-MODULE-PARMS
	$(eval @_PARMS = $(LIB1-HW_CPP-MODULE-PARMS))
else
	$(eval @_PARMS = $(CRTCPPMODPARMS))
endif
	system -v -k "CRTCPPMOD $(@_PARMS)  SRCFILE(QCPPSRC) SRCMBR(HW_CPP) TEXT('Hello World C++ source') OUTPUT(*PRINT) ENBPFRCOL(*PEP) PRFDTA(*NOCOL) STGMDL(*SNGLVL) TGTCCSID(37) MODULE($(LIB1)/HW_CPP)"

